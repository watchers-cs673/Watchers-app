<style>
</style>

<!-- Toolbar -->
<div class="toolbar" role="banner">
  <toolbar [showHomeLink]="true"></toolbar>
  <svg style="color: white" xmlns="http://www.w3.org/2000/svg" width="86" height="36" fill="currentColor" class="bi bi-search" viewBox="0 0 6 16"> <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" fill="white"></path> </svg>
  <span><input type="text" id="search" name="search" value="" placeholder="" /></span>
  <div class="spacer"></div>
  <div class="card highlight-card card-small">
    {{ title }}
  </div>
  <div class="spacer"></div>
    <div class="toolbar-right">
      <app-login></app-login>
    <!-- <h1>Log in</h1>
    <h1>/</h1>
    <h1>Sign up</h1> -->
    </div>
</div>

<div *ngIf="movie$ | async as movie" class="content" role="main">
  <div class="poster">
    <img [src]="movie.imgPath" alt="Poster" />
    <div class="title">
      <h2>{{movie.name}}</h2>
      <app-star-rating [rating]="movie.rating"></app-star-rating>
    </div>
    <h1>Release dates: {{movie.year}}</h1> 
    <h1>Runtime: {{movie.runTime}}</h1>  

    <div>
      <h3 style="color: #deb887; font-size: 24px;"> Submit Reviews Below: </h3>
      <form (ngSubmit)="submitForm()" #commentForm="ngForm">
        <label for="rating" style="color: #deb887; font-size: 24px;"> Rating: </label>
        <app-star-rating id="rating" name="rating" [(ngModel)]="rating" style="color: #deb887; font-size: 18px; padding: 8px 16px;"></app-star-rating>
        <br>
        <label for="comment" style="color: #deb887; font-size: 24px;"> Comment: </label>
        <textarea id="comment" name="comment" [(ngModel)]="comment" style="color: #020201; font-size: 18px; padding: 8px 16px;"></textarea>
        <br>
        <button type="submit" style="background-color: rgb(198, 63, 19); color: #020201; font-size: 18px; border: none; padding: 8px 16px;">Submit</button>
      </form>
    </div>

    <div class="tabs">
      <button class="tab" [ngClass]="{'active': selectedTab === 'summary'}" (click)="selectTab('summary')">Summary</button>
      <button class="tab" [ngClass]="{'active': selectedTab === 'new'}" (click)="selectTab('new')">New</button>
      <button class="tab" [ngClass]="{'active': selectedTab === 'hot'}" (click)="selectTab('hot')">Hot</button>
    </div>
    
    <div class="container">
      <ng-container *ngIf="selectedTab === 'summary'">
        <p>
          {{movie.summary}}
        </p>
      </ng-container>
      <ng-container *ngIf="selectedTab === 'new'">
        <div class="comment" *ngFor="let comment of comments">
          <div class="comment-left">{{ comment.topic }}: {{ comment.content}}</div>  
          <div class="comment-right">{{ comment.date }}|{{ comment.author }}</div>
        </div>
      </ng-container>
      <ng-container *ngIf="selectedTab === 'hot'">
        <div class="comment" *ngFor="let comment of comments">
          <div class="comment-left">{{ comment.topic }}: {{ comment.content}}</div>  
          <div class="comment-right">{{ comment.date }}|{{ comment.author }}</div>
        </div>
      </ng-container>
    </div>
  </div>
</div>


<router-outlet></router-outlet>
